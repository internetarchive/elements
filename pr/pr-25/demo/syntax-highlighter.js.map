{"version":3,"file":"syntax-highlighter.js","sourceRoot":"","sources":["../../demo/syntax-highlighter.ts"],"names":[],"mappings":";AAAA,OAAO,IAAI,MAAM,cAAc,CAAC;AAChC,OAAO,UAAU,MAAM,uCAAuC,CAAC;AAC/D,OAAO,EAEL,UAAU,EAEV,IAAI,GACL,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;AAC3D,OAAO,EAAE,YAAY,EAAE,MAAM,sBAAsB,CAAC;AAEpD;;GAEG;AAEI,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,UAAU;IAA1C;;QACuB,SAAI,GAAG,EAAE,CAAC;QAErB,oBAAe,GAAG,EAAE,CAAC;IAgCxC,CAAC;IA9BC,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;IAClD,CAAC;IAES,UAAU,CAAC,kBAAkC;QACrD,IAAI,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YACnC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;IACH,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;oDACqC,UAAU,CACtD,IAAI,CAAC,eAAe,CACrB;KACF,CAAC;IACJ,CAAC;IAEO,aAAa;QACnB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QAC9B,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;YACvC,QAAQ,EAAE,YAAY;SACvB,CAAC,CAAC,KAAK,CAAC;QACT,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;IACrC,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO,CAAC,YAAY,CAAC,CAAC;IACxB,CAAC;CACF,CAAA;AAlC6B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;+CAAW;AAErB;IAAhB,KAAK,EAAE;0DAA8B;AAH3B,iBAAiB;IAD7B,aAAa,CAAC,oBAAoB,CAAC;GACvB,iBAAiB,CAmC7B","sourcesContent":["import hljs from 'highlight.js';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport {\n  type CSSResultGroup,\n  LitElement,\n  type PropertyValues,\n  html,\n} from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\nimport { syntaxStyles } from './syntax-style-light';\n\n/**\n * An element that syntax highlights and displays TypeScript code\n */\n@customElement('syntax-highlighter')\nexport class SyntaxHighlighter extends LitElement {\n  @property({ type: String }) code = '';\n\n  @state() private highlightedCode = '';\n\n  connectedCallback(): void {\n    super.connectedCallback();\n    hljs.registerLanguage('typescript', typescript);\n  }\n\n  protected willUpdate(_changedProperties: PropertyValues): void {\n    if (_changedProperties.has('code')) {\n      this.highlightCode();\n    }\n  }\n\n  render() {\n    return html`\n      <pre><code class=\"hljs language-typescript\">${unsafeHTML(\n        this.highlightedCode,\n      )}</code></pre>\n    `;\n  }\n\n  private highlightCode() {\n    const code = this.code.trim();\n    const highlighted = hljs.highlight(code, {\n      language: 'typescript',\n    }).value;\n    this.highlightedCode = highlighted;\n  }\n\n  static get styles(): CSSResultGroup {\n    return [syntaxStyles];\n  }\n}\n"]}
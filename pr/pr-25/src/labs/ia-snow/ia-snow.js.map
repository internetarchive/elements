{"version":3,"file":"ia-snow.js","sourceRoot":"","sources":["../../../../src/labs/ia-snow/ia-snow.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,GAAG,EACH,IAAI,EACJ,UAAU,GAGX,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC7C,OAAO,EAAE,aAAa,EAAE,MAAM,kCAAkC,CAAC;AACjE,OAAO,EAAE,KAAK,EAAE,MAAM,yBAAyB,CAAC;AAKhD,OAAO,SAAS,MAAM,aAAa,CAAC;AACpC,OAAO,EACL,gBAAgB,GAEjB,MAAM,8BAA8B,CAAC;AAEtC;;GAEG;AAEI,IAAM,MAAM,GAAZ,MAAM,MAAO,SAAQ,UAAU;IAA/B;;QAIG,YAAO,GAAG,KAAK,CAAC;IAwF1B,CAAC;IApFC,MAAM;QACJ,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB;iBAC3C,SAAS;KACrB,CAAC;IACJ,CAAC;IAES,UAAU,CAAC,kBAAkC;QACrD,IAAI,kBAAkB,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC;YACzC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC;YAC3B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAED,8DAA8D;IAC9D,yEAAyE;IACzE,eAAe;IACf,EAAE;IACF,2EAA2E;IAC3E,yDAAyD;IACzD,IAAY,mBAAmB;QAC7B,OAAO,gBAAgB,CACrB,KAAK,IAAI,EAAE;YACT,MAAM,MAAM,CAAC,mCAAmC,CAAC,CAAC;QACpD,CAAC,EACD,GAAG,EAAE,CAAC,IAAI,CAAA;;mBAEG,GAAG,EAAE;YACZ,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;gBACjB,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;QACH,CAAC;;YAEC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,kBAAkB;;OAE1D,CACF,CAAC;IACJ,CAAC;IAED,IAAY,mBAAmB;QAC7B,OAAO,gBAAgB,CACrB,KAAK,IAAI,EAAE;YACT,MAAM,MAAM,CAAC,mCAAmC,CAAC,CAAC;QACpD,CAAC,EACD,GAAG,EAAE,CAAC,IAAI,CAAA;;mBAEG,GAAG,EAAE;YACZ,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC;QAC7B,CAAC;;;;OAIJ,CACF,CAAC;IACJ,CAAC;IAEO,KAAK,CAAC,YAAY;QACxB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,qEAAqE;YACrE,MAAM,gBAAgB,GAAG,MAAM,MAAM,CAAC,kBAAkB,CAAC,CAAC;YAC1D,MAAM,UAAU,GAAG,gBAAgB,CAAC,OAAO,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACpD,CAAC;QACD,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAEO,WAAW;QACjB,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO,GAAG,CAAA;;;;;;KAMT,CAAC;IACJ,CAAC;CACF,CAAA;AA3F6B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;0CAA+B;AAGlD;IADP,KAAK,EAAE;uCACgB;AAJb,MAAM;IADlB,aAAa,CAAC,SAAS,CAAC;GACZ,MAAM,CA4FlB","sourcesContent":["import {\n  css,\n  html,\n  LitElement,\n  type CSSResultGroup,\n  type PropertyValues,\n} from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { customElement } from 'lit/decorators/custom-element.js';\nimport { state } from 'lit/decorators/state.js';\n\nimport type Snowflakes from 'magic-snowflakes';\nimport type { SnowflakesParams } from 'magic-snowflakes';\n\nimport flakeIcon from './flake.svg';\nimport {\n  lazyLoadTemplate,\n  type LazyLoadedTemplate,\n} from '@src/util/lazy-load-template';\n\n/**\n * An element that shows snowflakes to demo the elements library\n */\n@customElement('ia-snow')\nexport class IASnow extends LitElement {\n  @property({ type: Object }) snowConfig?: SnowflakesParams;\n\n  @state()\n  private snowing = false;\n\n  private snowflakes?: Snowflakes;\n\n  render() {\n    return html`\n      ${this.startButtonTemplate} ${this.clearButtonTemplate}\n      <img src=${flakeIcon} alt=\"Snowflakes icon\" />\n    `;\n  }\n\n  protected willUpdate(_changedProperties: PropertyValues): void {\n    if (_changedProperties.has('snowConfig')) {\n      this.snowflakes?.destroy();\n      this.snowflakes = undefined;\n      this.startSnowing();\n    }\n  }\n\n  // Consider lazy loading external templates if they are large,\n  // below the fold or not needed immediately. This will reduce the initial\n  // bundle size.\n  //\n  // Note: In this case, ia-button is visible immediately so it's not a great\n  // example, but it demonstrates the lazy loading pattern.\n  private get startButtonTemplate(): LazyLoadedTemplate {\n    return lazyLoadTemplate(\n      async () => {\n        await import('@src/elements/ia-button/ia-button');\n      },\n      () => html`\n        <ia-button\n          @click=${() => {\n            if (this.snowing) {\n              this.stopSnowing();\n            } else {\n              this.startSnowing();\n            }\n          }}\n        >\n          ${this.snowing ? 'Stop Snowflakes' : 'Start Snowflakes'}\n        </ia-button>\n      `,\n    );\n  }\n\n  private get clearButtonTemplate(): LazyLoadedTemplate {\n    return lazyLoadTemplate(\n      async () => {\n        await import('@src/elements/ia-button/ia-button');\n      },\n      () => html`\n        <ia-button\n          @click=${() => {\n            this.snowflakes?.destroy();\n          }}\n        >\n          Clear Snowflakes\n        </ia-button>\n      `,\n    );\n  }\n\n  private async startSnowing() {\n    if (!this.snowflakes) {\n      // lazy load dependencies when possible to reduce initial bundle size\n      const SnowflakesModule = await import('magic-snowflakes');\n      const Snowflakes = SnowflakesModule.default;\n      this.snowflakes = new Snowflakes(this.snowConfig);\n    }\n    this.snowflakes?.start();\n    this.snowing = true;\n  }\n\n  private stopSnowing() {\n    this.snowflakes?.stop();\n    this.snowing = false;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      img {\n        width: 16px;\n        filter: invert(1);\n        vertical-align: middle;\n      }\n    `;\n  }\n}\n"]}
{"version":3,"file":"ia-status-indicator-story.js","sourceRoot":"","sources":["../../../../src/elements/ia-status-indicator/ia-status-indicator-story.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, nothing, TemplateResult } from 'lit';\nimport { customElement, query, queryAll, state } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n\nimport { StyleInputSettings } from '@demo/story-template';\nimport { IAStatusIndicator } from './ia-status-indicator';\n\nimport './ia-status-indicator';\nimport '@demo/story-template';\n\nconst styleInputSettings: StyleInputSettings[] = [\n  {\n    label: 'Width',\n    cssVariable: '--ia-theme-icon-width',\n    defaultValue: '1.25rem',\n  },\n  {\n    label: 'Color - loading',\n    cssVariable: '--ia-theme-primary-text-color',\n    defaultValue: '#2c2c2c',\n    inputType: 'color',\n  },\n  {\n    label: 'Color - success',\n    cssVariable: '--ia-theme-color-success',\n    defaultValue: '#31a481',\n    inputType: 'color',\n  },\n  {\n    label: 'Color - error',\n    cssVariable: '--ia-theme-color-danger',\n    defaultValue: '#e51c23',\n    inputType: 'color',\n  },\n];\n\nexport type PropInputSettings<T> = {\n  label: string;\n  propertyName: keyof T;\n  defaultValue?: string;\n  inputType?: 'text' | 'radio';\n  radioOptions?: string[];\n};\n\nconst propInputSettings: PropInputSettings<IAStatusIndicator>[] = [\n  {\n    label: 'Mode',\n    propertyName: 'mode',\n    defaultValue: 'loading',\n    inputType: 'radio',\n    radioOptions: ['loading', 'success', 'error'],\n  },\n  {\n    label: 'Accessible title - loading',\n    propertyName: 'loadingTitle',\n    defaultValue: 'Loading...',\n  },\n  {\n    label: 'Loading style',\n    propertyName: 'loadingStyle',\n    defaultValue: 'ring-dots',\n    inputType: 'radio',\n    radioOptions: ['ring-dots', 'ring'],\n  },\n  {\n    label: 'Accessible title - success',\n    propertyName: 'successTitle',\n    defaultValue: 'Success',\n  },\n  {\n    label: 'Accessible title - error',\n    propertyName: 'errorTitle',\n    defaultValue: 'Error',\n  },\n];\n\n@customElement('ia-status-indicator-story')\nexport class IAStatusIndicatorStory extends LitElement {\n  /* Applied properties fro the component in .myprop=${'foo'} format */\n  @state()\n  private stringifiedProps: string = '';\n\n  @query('ia-status-indicator')\n  private component!: IAStatusIndicator;\n\n  @queryAll('.prop-input')\n  private propInputs?: NodeListOf<HTMLInputElement>;\n\n  render() {\n    return html`\n      <story-template\n        elementTag=\"ia-status-indicator\"\n        .exampleUsage=${this.exampleUsage}\n        .styleInputData=${{ settings: styleInputSettings }}\n      >\n        <div slot=\"demo\">\n          <ia-status-indicator></ia-status-indicator>\n        </div>\n\n        <div slot=\"settings\">\n          <table>\n            ${propInputSettings.map((inputSettings) =>\n              this.createPropInput(inputSettings),\n            )}\n          </table>\n          <button @click=${this.apply}>Apply</button>\n        </div>\n      </story-template>\n    `;\n  }\n\n  private get exampleUsage(): string {\n    return `<ia-status-indicator${this.stringifiedProps ?? ''}></ia-status-indicator>`;\n  }\n\n  /* Creates a property input */\n  private createPropInput(\n    settings: PropInputSettings<IAStatusIndicator>,\n  ): TemplateResult | typeof nothing {\n    return (\n      choose(\n        settings.inputType,\n        [['radio', () => this.radioPropInputTemplate(settings)]],\n        () => this.defaultPropInputTemplate(settings),\n      ) ?? nothing\n    );\n  }\n\n  private defaultPropInputTemplate(\n    settings: PropInputSettings<IAStatusIndicator>,\n  ): TemplateResult {\n    const inputId = settings.label.toLowerCase().split(' ').join('-');\n\n    return html`\n      <tr>\n        <td><label for=${inputId}>${settings.label}</label></td>\n        <td>\n          <input\n            class=\"prop-input\"\n            type=${settings.inputType ?? 'text'}\n            id=${inputId}\n            data-prop=${settings.propertyName}\n            placeholder=${ifDefined(settings?.defaultValue)}\n          />\n        </td>\n      </tr>\n    `;\n  }\n\n  /* Generator for a radio prop input, including the associated label text */\n  private radioPropInputTemplate(\n    settings: PropInputSettings<IAStatusIndicator>,\n  ): TemplateResult | typeof nothing {\n    if (settings.inputType !== 'radio' || !settings.radioOptions)\n      return nothing;\n\n    const inputId = settings.label.toLowerCase().split(' ').join('-');\n\n    return html`\n      <tr>\n        <td><legend>${settings.label}</legend></td>\n        <td>\n          ${settings.radioOptions.map(\n            (option) =>\n              html`<input\n                  type=\"radio\"\n                  class=\"prop-input\"\n                  name=${inputId}\n                  id=${option}\n                  value=${option}\n                  data-prop=${settings.propertyName}\n                  ?checked=${settings.defaultValue === option}\n                /><label for=${option}> ${option} </label>`,\n          )}\n        </td>\n      </tr>\n    `;\n  }\n\n  private apply() {\n    const appliedProps: string[] = [];\n    this.propInputs?.forEach((input) => {\n      if (\n        !input.dataset.prop ||\n        !input.value ||\n        (input.type === 'radio' && !input.checked)\n      )\n        return;\n\n      const prop = input.dataset.prop;\n      appliedProps.push(`.${prop}=\\${'${input.value}'}`);\n      this.component.setAttribute(prop, input.value);\n    });\n\n    if (!appliedProps.length) return;\n\n    this.stringifiedProps = '\\n  ' + appliedProps.join('\\n  ') + '\\n';\n  }\n}\n"]}